%html{lang:I18n.locale}
  %head
    %base
    %meta{charset: "utf-8"}
    %title
    %meta{content: "width=device-width", name: "viewport"}
    = csrf_meta_tags
    = csp_meta_tag
    = yield :metas
    = javascript_importmap_tags
    = yield :scripts

    %link{href: "https://cdn.jsdelivr.net/npm/daisyui@4.10.2/dist/full.min.css", rel: "stylesheet"}
    %script{src: "https://cdn.tailwindcss.com"}
    %link{:href => "https://fonts.googleapis.com", :rel => "preconnect"}/
    %link{:crossorigin => "", :href => "https://fonts.gstatic.com", :rel => "preconnect"}/
    %link{:href => "https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400..900;1,400..900&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap", :rel => "stylesheet"}/


    = stylesheet_link_tag "application", "data-turbo-track": "reload"
    = yield :stylesheets
    = yield :inline_scripts
  %body
    - if browser.device.mobile?
      = render partial: "/header/mobile/menu", locals: {categories: @menu_categories, pages: @menu_pages}, cached: true
    %div{class: "flex flex-col m-h-screen", "data-controller": "common", id: "common"}
      = render partial: "/header"
      = yield :body
      = render partial: "/footer"
      = render partial: "/search"

    = render partial: "/mobile/checkout"
    = render partial: "/mobile/search"
    = render partial: "/vivid_card"
