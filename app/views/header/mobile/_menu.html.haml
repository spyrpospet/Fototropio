%div{class: "z-50 w-2/3", id: "mobile-main-menu", "data-mobile-menu-target":"wrapper", "data-controller": "mobile-menu"}
  %div{class: "fixed bg-white overflow-y-auto h-full gap-y-3 p-3"}
    %div{class: "w-full flex flex-row justify-end"}
      %div{class: "w-5", "data-action":"click->mobile-menu#close_menu"}
        %svg{:classname => "w-3 h-6", :fill => "none", :stroke => "currentColor", :strokewidth => "{1.5}", :viewbox => "0 0 24 24", :xmlns => "http://www.w3.org/2000/svg"}
          %path{:d => "M6 18L18 6M6 6l12 12", :strokelinecap => "round", :strokelinejoin => "round"}
    %div{class: "flex flex-col divide-y", id: "mobile-menu"}
      - categories.each do |category|
        %div{class: "flex flex-col border-b py-3 item"}
          %div{class: "flex flex-row items-center justify-between"}
            = link_to category.title, map_url(category.slug), class: "text-black"
            - if category.children.present?
              %div{"data-action": "click->mobile-menu#toggle_second_level", "data-slug": category.slug}
                %svg.size-6{:fill => "none", :stroke => "currentColor", "stroke-width" => "1.5", :viewbox => "0 0 24 24", :xmlns => "http://www.w3.org/2000/svg"}
                  %path{:d => "m8.25 4.5 7.5 7.5-7.5 7.5", "stroke-linecap" => "round", "stroke-linejoin" => "round"}
          - if category.children.present?
            %div{class: "hidden ml-3", "data-mobile-menu-target": "secondLevel", "data-slug": category.slug}
              - category.children.each do |second_level_category|
                %div{class: "flex flex-col border-b py-3 item"}
                  %div{class: "flex flex-row items-center justify-between"}
                    = link_to second_level_category.title, map_url([category.slug, second_level_category.slug]), class: "text-black"
                    - if second_level_category.children.present?
                      %div{"data-action": "click->mobile-menu#toggle_third_level", "data-slug": second_level_category.slug}
                        %svg.size-6{:fill => "none", :stroke => "currentColor", "stroke-width" => "1.5", :viewbox => "0 0 24 24", :xmlns => "http://www.w3.org/2000/svg"}
                          %path{:d => "m8.25 4.5 7.5 7.5-7.5 7.5", "stroke-linecap" => "round", "stroke-linejoin" => "round"}
                  - if second_level_category.children.present?
                    %div{class: "hidden ml-3", "data-mobile-menu-target": "thirdLevel", "data-slug": second_level_category.slug}
                      - second_level_category.children.each do |third_level_category|
                        %div{class: "flex flex-col border-b py-3 item"}
                          %div{class: "flex flex-row items-center justify-between"}
                            = link_to third_level_category.title, map_url([category.slug, second_level_category.slug, third_level_category.slug]), class: "text-black"