= content_for :body do
  %div{class: "mx-auto w-11/12 mt-10 xl:p-0 xl:w-9/12 2xl:w-7/12"}
    %div{class: "flex flex-col md:flex-row md:gap-10"}
      %div{class: "md:w-2/3"}
        - @posts&.each do |post|
          %div{class: "bg-white rounded overflow-hidden mb-10"}
            = link_to map_url(post.slug), class: "relative" do
              - if post.image.attached?
                = image_tag post.image.variant(:home), class: "aspect-video object-cover", alt: post.title
              - else
                %img{class: "aspect-video object-cover", src: "https://placehold.co/700x400", alt: post.title}
            %div{class: "py-6"}
              = link_to map_url(post.slug) do
                %h1{class: "text-4xl font-extrabold tracking-tight text-gray-900"}= post.title
              %div{class: "mt-5 flex items-center text-sm text-gray-500 gap-4 flex-wrap"}
                %div{class: "flex items-center gap-3"}
                  - if @user&.image&.attached?
                    = image_tag @user&.image, class: "w-8 h-8 rounded-full object-cover", alt: @user&.full_name
                  - else
                    %img{class: "w-8 h-8 rounded-full object-cover", src: "https://placehold.co/241x52", alt: "Author avatar"}
                  =link_to map_url("about-page"), @user&.full_name
                %span •
                %span= l(post.created_at, format: :long)
                %span •
                - if post.categories.any?
                  %a{href: map_url(post.main_category.slug), class: "text-orange-500 hover:underline"}= post.main_category.title
                - else
                  %a{href: "#", class: "text-orange-500 hover:underline"} Uncategorized
              %div{class: "mt-6 text-gray-600 leading-7"}
                = truncate(strip_tags(post.description.to_s), length: 400)
        - if @pagy&.pages.to_i > 1
          %div{class: "pagination mt-8 flex justify-center"}= pagy_nav(@pagy).html_safe
      %div{class: "md:w-1/3"}
        %div{class: "space-y-10"}
          %div{class: "border-b pb-6"}
            %h3{class: "uppercase tracking-widest text-xs text-gray-400 mb-4"} Σχετικά με εμένα
            %div{class: "flex flex-col items-start"}
              - if @user&.image&.attached?
                = image_tag @user.image, class: "w-24 h-24 rounded-full object-cover mb-4", alt: "About avatar"
              - else
                %img{class: "w-24 h-24 rounded-full object-cover mb-4", src: "https://placehold.co/241x52", alt: "About avatar"}
              - if @user&.description.present?
                %p{class: "text-gray-600 leading-7"}
                  = truncate(strip_tags(@user&.description.to_s), length: 400)
              %a{href: map_url("about-page"), class: "mt-4 inline-flex items-center text-orange-500 font-medium hover:underline"}
                περισσότερα για εμένα
                %span{class: "ml-2"} →